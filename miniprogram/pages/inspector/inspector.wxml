<view class="inspector-page">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="header-card">
    <view class="user-info">
      <view class="avatar">
        <text>{{userInfo.realName ? userInfo.realName[0] : (userInfo.username ? userInfo.username[0] : 'U')}}</text>
      </view>
      <view class="user-detail">
        <view class="user-name">{{userInfo.realName || userInfo.username || 'æœªç™»å½•'}}</view>
        <view class="user-meta">
          <text class="employee-no">å·¥å·: {{userInfo.employeeNo || '-'}}</text>
          <text class="role-tag">è´¨æ£€å‘˜</text>
        </view>
      </view>
    </view>
    <view class="header-stats">
      <view class="stat-item">
        <view class="stat-value">{{todayStats.inspectedCount || 0}}</view>
        <view class="stat-label">ä»Šæ—¥è´¨æ£€</view>
      </view>
      <view class="stat-item">
        <view class="stat-value">{{todayStats.passedCount || 0}}</view>
        <view class="stat-label">åˆæ ¼æ‰¹æ¬¡</view>
      </view>
      <view class="stat-item">
        <view class="stat-value">{{todayStats.passRate || '0'}}%</view>
        <view class="stat-label">åˆæ ¼ç‡</view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œ -->
  <view class="card">
    <view class="card-title">å¿«æ·æ“ä½œ</view>
    <view class="action-grid">
      <view class="action-item" bindtap="goToScanInspection">
        <view class="action-icon scan-icon">
          <text class="icon-emoji">ğŸ“·</text>
        </view>
        <view class="action-text">æ‰«ç è´¨æ£€</view>
      </view>
      <view class="action-item" bindtap="goToInspectionList">
        <view class="action-icon list-icon">
          <text class="icon-emoji">ğŸ“‹</text>
        </view>
        <view class="action-text">è´¨æ£€è®°å½•</view>
      </view>
      <view class="action-item" bindtap="goToWage">
        <view class="action-icon wage-icon">
          <text class="icon-emoji">ğŸ’°</text>
        </view>
        <view class="action-text">æˆ‘çš„å·¥èµ„</view>
      </view>
      <view class="action-item" bindtap="goToProfile">
        <view class="action-icon profile-icon">
          <text class="icon-emoji">ğŸ‘¤</text>
        </view>
        <view class="action-text">ä¸ªäººä¸­å¿ƒ</view>
      </view>
    </view>
  </view>

  <!-- å¾…è´¨æ£€åˆ—è¡¨ -->
  <view class="card">
    <view class="card-header">
      <view class="card-title">å¾…è´¨æ£€</view>
      <view class="card-more" bindtap="goToInspectionList">æŸ¥çœ‹å…¨éƒ¨ ></view>
    </view>

    <view wx:if="{{loading}}" class="loading">
      <text>åŠ è½½ä¸­...</text>
    </view>

    <view wx:elif="{{pendingList.length === 0}}" class="empty">
      <text class="empty-text">æš‚æ— å¾…è´¨æ£€å·¥å•</text>
    </view>

    <view wx:else class="pending-list">
      <view class="pending-item" wx:for="{{pendingList}}" wx:key="id" bindtap="goToInspection" data-id="{{item.id}}">
        <view class="pending-header">
          <text class="pending-no">{{item.workOrderNo}}</text>
          <text class="tag tag-warning">å¾…è´¨æ£€</text>
        </view>
        <view class="pending-info">
          <view class="info-row">
            <text class="label">äº§å“:</text>
            <text class="value">{{item.productName}}</text>
          </view>
          <view class="info-row">
            <text class="label">æ•°é‡:</text>
            <text class="value">{{item.quantity}}ä»¶</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
